.\" Version: 0.165.0
.\"
.TH SAPHanaSR-showAttr 8 "04 Jun 2020" "" "SAPHanaSR-ScaleOut"
.\"
.SH NAME
SAPHanaSR-showAttr \- Shows Linux cluster attributes for SAP HANA system replication.
.\"
.SH SYNOPSYS
\fBSAPHanaSR-showAttr\fR [ --help | --version ]
.br
\fBSAPHanaSR-showAttr\fR [ --sid=SID[:INO] ] [ --sort=FIELD ] [ --format=FORMAT ] [ --cib=OFFLINE_CIB_FILE ]
.\" TODO \fBSAPHanaSR-showAttr\fR [ --sid=SID[:INO]] [ --sort=FIELD ] [ --format=FORMAT ] [ --cib=OFFLINE_CIB_FILE ]
.\"
.SH DESCRIPTION
SAPHanaSR-showAttr shows Linux cluster attributes for SAP HANA system replication automation.
The overall system replication (SR) state is shown as well as the HANA state on each node.
Because the HANA srHook method srConnectionChanged() is used, the respective information
shows up as well.
The information is fetched from the Linux cluster information base (CIB), not from HANA
directly.
.PP
The output shows three sections, containing all or some of the listed fields:
.\" TODO check with existing script.
.TP
Global section
.br
global (\fBGlobal\fP)
.br
date and time of record (\fBcib-time\fP)
.br
HANA primary replication site (\fBprim\fP)
.br
HANA secondary replication site (\fBsec\fP)
.br
HANA replication channel state indicated by srConnectionChanged (\fBsrHook\fP)
.br
HANA replication state of secondary site, indicated by systemReplicationStatus.py (\fBsync_state\fP)
.TP
Site section
HANA site name (\fBSit\fP)
.br
SAPHanaSR last primary timestamp (\fBlpt\fP)
.br
HANA landscape status (\fBlss\fP)
.br
HANA current master nameserver for that site (\fBmns\fP)
.br
HANA system replication role (\fBsrr\fP)
.TP
Hosts section
.br
Linux hostname (\fBHosts\fP)
.br
state of the Linux cluster resource (\fBclone_state\fP)
.br
maintenance state of Linux cluster node (\fBnode_state\fP)
.br
actual and configured roles for HANA on that node (\fBroles\fP)
.br
actual master score on that node (\fBscore\fP)
.br
HANA site where the host sits (\fBsite\fP)
.br
HANA SR mode (\fBsrmode\fP)
.br
maintenance state of Linux cluster node (\fBstandby\fP)
.br
HANA SR status (\fBsync_state\fP)
.br
HANA version (\fBversion\fP)
.br
HANA virtual host name (\fBvhost\fP)
.PP
Some fields are generated dynamically from the CIB. That fields might be missing,
if no corresponding attribute exists, e.g. the standby field.
.\" TODO explain allowd values, meaning, see SAPHanaSR-showAttr from Scale-Up
.\" An incomplete compilation on field details and purpose follows below.
.\"
.SH OPTIONS
.HP
\fB --help\fR
        show help.
.HP
\fB --version\fR
        show version.
.HP
\fB --sid=\fISID\fR[:\fIINO\fR]
.br
	use SAP system ID \fISID\fR. Should be autodetected, if there is only one SAP HANA instance installed on the local cluster node. The SAP system ID is a 3 alphanum string with a valid SAP system name like SLE, HAE, FH1, C11, or P42.
Optional: Use SAP instance number \fIINO\fR. Should be autodetected, if there is only one SAP HANA instance installed on the local cluster node. The SAP instance number must be represented by a two digit numer like 00, 05 or 42. Some numbers ares not allowed, e.g. 98.
.HP
\fB --sort \fIFIELD\fR
.br
	sort Hosts section table by field. Allowed values: roles, site. The default sort is by hostnames.
.\" TODO --format
.\".HP
.\"\fB --format \fIFORMAT\fR
.\".br
.\"	output format. Allowed values: [ text | HTML ]. Default is text.
.HP
\fB --cib=\fIOFFLINE_CIB_FILE\fR
.br
	read data from given offline CIB file.
.\"
.SH RETURN CODES
.B 0
Successful program execution.
.br
.B >0
Usage, syntax or execution errors.
.\"
.SH EXAMPLES
.TP
# SAPHanaSR-showAttr --sort roles
show all SAPHanaSR attributes in the cluster and sort host table output by roles.
.TP
# SAPHanaSR-showAttr --sid=HA1:10 --cib=./hb_report-17-07-2019/grauenstein01/cib.xml
show all SAPHanaSR attributes for SAP iystem ID HA1 and instance number 10 from given CIB file.
.\"
.SH FILES
.TP
/usr/bin/SAPHanaSR-showAttr
	the program itself.
.TP
/usr/lib/SAPHanaSR-ScaleOut/SAPHanaSRTools.pm
	needed functions.
.TP
/usr/sap/hostctrl/exe/saphostctrl
	the SAP host control command.
.\"
.SH BUGS
Formatting and content of this script's output will change, since this script
is under development. This script is not intended to be called from monitoring tools.
For monitoring please use SAPHanaSR-monitor instead.
Feedback is welcome, please mail to feedback@suse.com.
.\"
.SH SEE ALSO
\fBocf_suse_SAPHanaController\fP(7) , \fBocf_suse_SAPHanaTopology\fP(7) ,
\fBSAPHanaSR-ScaleOut\fP(7) , \fBSAPHanaSR-replay-archive\fP(8) ,
\fBSAPHanaSR-filter\fP(8) , \fBSAPHanaSR-monitor\fP(8) ,
\fBcrm_simulate\fP(8) , \fBcibadmin\fP(8) , \fBcrm_mon\fP(8) ,
\fBcs_clusterstate\fP(8) , \fBcs_show_hana_info\fP(8) , \fBcs_show_scores\fP(8) ,
.br
https://documentation.suse.com/sbp/all/?context=sles-sap ,
.br
https://documentation.suse.com/sles-sap/ ,
.br
https://www.susecon.com/doc/2015/sessions/TUT19921.pdf ,
.br
https://www.susecon.com/doc/2016/sessions/TUT90846.pdf
.\" TODO SUSECON 2020
.\"
.SH AUTHORS
F.Herschel, L.Pinne.
.\"
.SH COPYRIGHT
(c) 2014 SUSE Linux Products GmbH, Germany.
.br
(c) 2015-2016 SUSE Linux GmbH, Germany.
.br
(c) 2017-2020 SUSE LLC
.br
SAPHanaSR-showAttr comes with ABSOLUTELY NO WARRANTY.
.br
For details see the GNU General Public License at
http://www.gnu.org/licenses/gpl.html
.\"
